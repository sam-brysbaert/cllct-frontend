<div id="registerWrapper">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Register</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="registerForm" (keydown.enter)="onSubmit()">
        <mat-form-field>
          <input
            matInput
            id="username"
            formControlName="username"
            placeholder="username"
          />
          <mat-error *ngIf="username.errors && username.touched">
            {{ getErrorMessage(username.errors) }}
          </mat-error>
        </mat-form-field>
        <span formGroupName="passwordGroup">
          <mat-form-field>
            <input
              matInput
              id="password"
              type="password"
              formControlName="password"
              placeholder="password"
            />
            <mat-error *ngIf="password && password.touched">
              {{ getErrorMessage(password.errors) }}
            </mat-error>
          </mat-form-field>
          <mat-form-field>
            <input
              matInput
              id="confirmPassword"
              type="password"
              formControlName="confirmPassword"
              placeholder="confirm password"
            />
            <mat-error
              *ngIf="confirmPassword.errors && confirmPassword.touched"
            >
              {{ getErrorMessage(confirmPassword.errors) }}
            </mat-error>
          </mat-form-field>
          <mat-error
            *ngIf="
              passwordGroup.errors &&
              confirmPassword.touched &&
              password.touched
            "
          >
            {{ getErrorMessage(passwordGroup.errors) }}
          </mat-error>
        </span>
      </form>
      <button
        mat-flat-button
        color="primary"
        (click)="registerForm.valid ? onSubmit() : null"
        type="submit"
      >
        Register
      </button>
    </mat-card-content>
  </mat-card>
  <mat-card class="error" *ngIf="errorMessage">
    error: {{ errorMessage | json }}
  </mat-card>
</div>
